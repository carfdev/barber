---
import { Image } from "astro:assets";

interface Props {
  after: ImageMetadata;
  before: ImageMetadata;
}

const { after, before }: Props = Astro.props;
---

<div class="slider-container relative h-96 w-full overflow-hidden">
  <div class="after-image">
    <Image
      src={after}
      alt="Efter professionell skäggtrimning, skulpterat skägg, rena linjer, välvårdat utseende."
    />
  </div>
  <div class="before-image">
    <Image
      src={before}
      alt="Före skäggtrimning, ojämnt skägg, i behov av klippning."
    />
  </div>
  <div
    class="bg-brand-gold text-brand-dark font-montserrat text absolute top-4 left-4 rounded-full px-3 py-1 text-sm font-semibold uppercase"
  >
    Före
  </div>
  <div
    class="bg-brand-gold text-brand-dark font-montserrat text absolute top-4 right-4 rounded-full px-3 py-1 text-sm font-semibold uppercase"
  >
    Efter
  </div>
  <div
    class="slider-handle bg-brand-gold absolute top-0 bottom-0 left-1/2 w-1 -translate-x-1/2 transform cursor-ew-resize"
  >
    <div
      class="bg-brand-gold absolute top-1/2 left-1/2 flex h-8 w-8 -translate-x-1/2 -translate-y-1/2 items-center justify-center rounded-full"
    >
      <svg
        class="text-brand-dark h-4 w-4"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512"
      >
        <path
          fill="currentColor"
          d="M406.6 374.6l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224l-293.5 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288l293.5 0-41.4 41.4c-12.5 12.5 0-32.8 0-45.3z"
        >
        </path>
      </svg>
    </div>
  </div>
</div>

<style>
  .text {
    user-select: none;
    -webkit-user-drag: none;
    pointer-events: none;
  }

  img {
    user-select: none;
    -webkit-user-drag: none;
    pointer-events: none;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .before-image,
  .after-image {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .before-image {
    clip: rect(0, 400px, 24rem, 0);
  }

  .slider-handle {
    cursor: ew-resize;
    z-index: 10;
  }
</style>
